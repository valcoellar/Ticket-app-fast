function Load_Consecutive(){let e=localStorage.getItem("FOLIO");e||(e=prompt("Folio Consecutivo o Inicial")),e&&localStorage.setItem("FOLIO",e),console.log(e),Consecutivo.value=e}var F_Cantidad=document.querySelector(".I_Cantidad");F_Cantidad.addEventListener("change",Calcula_Subtotal);var F_PrecioUnitario=document.querySelector(".I_PrecioUnitario");F_PrecioUnitario.addEventListener("change",Calcula_Subtotal);var F_Subtotal=document.querySelector(".I_Subtotal"),F_Partida=document.querySelector("#Captura"),formatter=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function Nueva_Partida(){document.getElementById("B_Eliminar").hidden=!1;var e=F_Partida.cloneNode(!0);F_Partida.after(e);var t=document.querySelector(".I_Cantidad");t.addEventListener("change",Calcula_Subtotal);var a=document.querySelector("#I_Descripcion"),r=document.querySelector(".I_PrecioUnitario");r.addEventListener("change",Calcula_Subtotal);var l=document.querySelector(".I_Subtotal");t.value=0,r.value=0,l.value=0,a.value=""}function Elimina_Partida(){document.getElementById("Captura").remove(),Calcula_Subtotal()}function Calcula_Subtotal(){F_Subtotal.value=F_PrecioUnitario.value*F_Cantidad.value,Calcula_Total()}function Calcula_Total(){var e=document.querySelector("#Total"),t=document.querySelectorAll(".I_Subtotal"),a=0;for(let r=0;r<t.length;r++)a+=parseInt(t[r].value);e.value=a,document.querySelector("#Ticket_Total").innerHTML="TOTAL:&emsp;&emsp;"+formatter.format(a);var l=document.querySelector("#Fecha_Ticket"),o=new Date,n=o.getDate()+"/"+(o.getMonth()+1)+"/"+o.getFullYear();l.innerHTML="FECHA:&emsp;&emsp;"+n}function Cancelar(){location.reload()}function Generar_Ticket(){document.querySelector("#Consecutivo");let e=localStorage.getItem("FOLIO");localStorage.setItem("FOLIO",parseInt(e)+1);var t=document.querySelector("#Ticket_Partidas"),a=document.querySelectorAll(".I_Cantidad"),r=document.querySelectorAll("#I_Descripcion"),l=document.querySelectorAll("#I_Subtotal");for(let o=0;o<a.length;o++){var n=t.cloneNode(!0);t.after(n)}var t=document.querySelectorAll("#Ticket_Partidas");for(let u=0;u<a.length;u++)t[u].textContent=a[u].value+"\xa0\xa0"+r[u].value+"\xa0\xa0\xa0\xa0\xa0"+formatter.format(l[u].value),console.log(t[u].textContent);var i=document.querySelector("#Consecutivo");document.querySelector("#Ticket_No").textContent="Ticket : "+i.value;var c=document.getElementById("Printable_Content").innerHTML,d=document.body.innerHTML;document.body.style.border="none",document.body.innerHTML=c,window.print(),document.body.innerHTML=d,location.reload()}